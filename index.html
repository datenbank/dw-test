<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Dw-test by datenbank</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Dw-test</h1>
        <h2>Data Warehouse Test Toolkit</h2>
        <a href="https://github.com/datenbank/dw-test" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>Welcome to DW Test Toolkit.</h3>

<p>The Data Warehouse Test Toolkit is made to assists you when testing a Data Warehouse to ensure the quality. The toolkit lets you write queries for source and target
systems and compare the results for you and report any differences.</p>

<h3>Download/install</h3>

<p>Download the latest version, and extract the zip file to your prefered destination.</p>
<p>Java (Oracle)version 8 update 40 or higher is required to run the toolkit. jTds (MS SQL Server) and Oracle JDBC driver are provided in the distribution.</p>
          <h3>Run</h3>

<p>Navigate to the bin folder, and type 
<p>
<code>dw-test.bat --gui</code></p>
to open the toolkit graphical user interface. Or just double click the dw-test.bat file. </p>
<p>To setup connections to source and target databases right click anywhere in the table view.
select Settings->Open file. 
<img src="./images/Settings_OpenFile.JPG" />

Edit the connection string to match your requirements. Save your settings by clicking Save button, and close the window.
<img src="./images/Settings_OpenFilePopup.JPG" />

Settings are read on startup, when you click the Save button, and when Reload menu item is clicked.
</p>

<h2>Windows Authentication</h2>
<p>To use Windows Authentication with MS SQL Server leave out user and password from connection string
and download jTDS from <a href="https://sourceforge.net/projects/jtds/">https://sourceforge.net/projects/jtds/</a>
extract the zip file and put the directory in PATH (environment variable). For example <code>C:\jtds-1.3.1-dist\x64\SSO</code></p>

<p><h3>Testcase example</h3>
Create your first test case select New testcase, and enter name. 
<img src="./images/NewTestCase.JPG" />
<img src="./images/NewTestCasePopup.JPG" />
This will create a file in <install_dir>/bin/Target/<testcase_name>.sql

The table is updated with your test case. Right click (Code->Open create target SQL) to edit the query. 
<img src="./images/CodeOpenTargetSQL.JPG" />
The query will use the target connection to execute.
<img src="./images/CodeOpenTargetSQLPopup.JPG" />
Type in a query, click the Save button and close the window.
<img src="./images/CodeOpenTargetSQLPopupSave.JPG" />

Create a source query by clicking Code->Open/create source SQL. The file is saved 
at <install_dir>/bin/Source/<testcase_name>.sql
<img src="./images/CodeOpenSourceSQL.JPG" />
Write a similar query to match the target query. The query will be executed using the source connection.


<h2>Execute Queries</h2>
To Execute the test case right click and select Execute on the test case. 
<img src="./images/Execute.JPG" />
Both target and source queries are executed.
<img src="./images/Executed.JPG" />

<h2>Results</h2>
Result of queries it put in subfolder /Result in Target and Source folder holding the .sql files.
To view the results select Results->Open target data set for example.
<img src="./images/ResultOpenTargetDataSet.JPG" />
This will open the .csv file with your preferred .csv editor. 
<img src="./images/ResultOpenTargetDataSetPopup.JPG" />
Modify the csvReader in the settings file (Setting->Open file).
<p>
To use Excel for example:<p><code>
csvReader = "C:/Program Files (x86)/Microsoft Office/Office14/excel.exe /e"</code>
</p>
Compare the results of the Test case by clicking Compare.
<img src="./images/Compare.JPG" />
The Status is updated, and the Test case completed with success.
<img src="./images/Compared.JPG" />
To see differences between source and target results use menu Results->Open difference. 
This will open a .csv file placed in /Report folder. Only if there are differences the difference file is created.

</p>
<h3>Callbacks</h3>
<p>
Before and After callback can be created to be executed before/after a target query is run.. 
This can be used to start ETL programs etc. The callback file accepts any .bat script code.</p>
<h3>Scripts</h3>
<p>To automate the creation of test cases scripts can be used. In the directory bin/Scripts of the install directory
groovy scripts can be placed. A model object is passed to the script at execution time. The model contains information of mapping between source and target databases provided by model.csv file.
Here is a illustration of the model.
<img src="./images/uml.jpg" />
To execute a script go to Code->Scripts->Run [script name].groovy
<p>See the scripts in the distribution for examples.</p>
</p>
        </section> 


        <aside id="sidebar">
          <a href="https://github.com/datenbank/dw-test/releases/download/v1.0.2/dw-test-1.0.2.zip" class="button">
            <small>download .zip file</small>
            v1.0.2</a>
            
        <a href="https://github.com/datenbank/dw-test/releases" class="button">
            <small>Go see all versions</small>
            All vers.</a>
          <p class="repo-owner"><a href="https://github.com/datenbank/dw-test"></a> is maintained by <a href="https://github.com/datenbank">datenbank</a>.</p>

          </aside>
      </div>
    </div>

  
  </body>
</html>
